\chapter{Introduction}   \label{chap:intro}

%overall background
Smartphones with cellular data access have become increasingly popular across the globe, with the wide deployment of 3G and emerging LTE~\cite{3gpp.lte} networks, and a plethora of applications of all kinds. In the third quarter of 2009, the global smartphone shipments reached 41.4 million units~\cite{smartphoneStat}. As of the third quarter of 2012, the global smartphone shipments reached 173.7 million~\cite{smartphoneStat2} with 61.3\% year-on-year increase in average. It is expected that in the next few years smartphone sales will continue to grow.  Vendors, such as Samsung, Apple, and HTC offer a variety of smartphones equipped with increasingly faster CPUs and larger memory, though still lagging behind desktop or laptop systems. With access to various high-speed 3G networks, such as EVDO and UMTS, and the LTE 4G networks, they are powerful enough to run modern operating systems and sophisticated network applications such as web browsing, email, and streaming media. 

Why do we care both network performance and energy efficiency: they are important tradeoffs in cellular networks. in some cases, if you want to save more power, the network performance may become lower.







\subsubsection*{Research Overview}

The use of cellular data networks is increasingly popular due to the widespread deployment of 3G/4G technologies and the rapid adoption of smartphones. Besides email and web browsing, a variety of network applications are now available, rendering smartphones potentially useful substitutes for their desktop counterparts. My research focus lies in the networking and energy aspects of smartphone applications and cellular networks.

In this statement, I first discuss my existing works in the cellular network and smartphone space, followed by a few other projects that I have worked on previously. Towards the end, I will talk about the future research agenda.

\subsubsection*{Existing Research: Network and Energy Efficiency}

\subsubsection*{\emph{1. Characterizing Cellular Network Performance}:} Since 2008, I have been working on devising systematical methodologies and developing tools for characterizing cellular network performance directly from end users. The tools I have developed (as the lead developer) includes \emph{3GTest}~\cite{3gtest}, \emph{4GTest}~\cite{4gtest} and \emph{MobiPerf}~\cite{mobiperf}, which have cumulatively over 150,000 users from over 190 countries or regions. Notably, \emph{MobiPerf} has received both the \emph{Open Internet App Award} and the \emph{People's Choice App Award} in the \emph{FCC Open Internet Apps Challenge}~\cite{fcc.award}. It is now an open-source project~\cite{mobiperf.repo} that I am actively working on and this project is in joint collaboration among University of Michigan, M-Lab, Google and University of Washington. In these measurement tools, I have devised methods to accurately measure round-trip time (RTT), DNS lookup time, uplink/downlink bandwidth, loss rate, and other network performance metrics for 3G, WiMAX and LTE 4G networks and compare those with WiFi networks.

We also study the cellular data network infrastructure and its implications on the performance of CDN services~\cite{sigmetrics.cluster}. We observe that placing content servers close to GGSNs can potentially reduce the end-to-end latency by more than 50\% excluding the variability from air interface.

\subsubsection*{\emph{2. Anatomizing Smartphone Application Performance}:}

In order to understand the key factors that affect smartphone application performance, I develop a systematic methodology for comparing this performance along several key dimensions such as carrier networks, device capabilities, and server configurations~\cite{mobisys.3gtest}. I perform detailed analysis to help carriers, phone vendors, content providers, and application developers gain insight. For example, for carriers, I infer various network level problems, \eg high latency or high loss rate, which they can directly take action on. For phone vendors, I identify performance bottlenecks on the devices or issues associated with the content. These issues can be resolved either independently or by cooperating with content providers. And for application developers, I evaluate factors such as the overhead of HTML rendering and Javascript execution given a particular software configuration. I also perform longitudinal study that compare the determinant factors on smartphone applications in 2010~\cite{mobisys.3gtest} and 2012~\cite{huang_mobisys12}. I identify that the performance bottleneck for web-based applications lies more in the device’s processing power than in the network, indicated by the high average CPU usage of 79.3\% in LTE network, as well as the underutilized network capacity due to small object size in typical web transactions.

\subsubsection*{\emph{3. Understanding Power Characteristics of 4G LTE Networks}:}
With the recent advent of 4G LTE networks, there has been increasing interest to better understand its power characteristics, compared with 3G/WiFi networks. I take one of the first steps in this direction~\cite{huang_mobisys12} and develop the first empirically derived comprehensive power model of a commercial LTE network with less than 6\% error rate and state transitions matching the specifications. Using a comprehensive data set consisting of 5-month traces of 20 smartphone users, I carefully investigate the energy usage in 3G, LTE, and WiFi networks and evaluate the impact of configuring LTE-related parameters. Despite several new power saving improvements, I find that LTE is as much as 23 times less power efficient compared with WiFi, and even less power efficient than 3G, based on the user traces and the long high power tail is found to be a key contributor.

\subsubsection*{\emph{4. Effect of Network Protocol and Application Behavior on Performance for LTE Networks}:}

Despite it fast increasing user base, the network performance and the interplay between mobile applications and the network for the LTE networks still remain unexplored. In one work in submission, I thoroughly study the network performance of LTE network with a data set covering around 300,000 LTE users in a large metropolitan area for 10 days. I revisit basic network metrics in the LTE network and compare with previously studied network conditions. I also observe that a high downstream queueing delay, likely due to bufferbloat,  has caused TCP congestion window collapse upon one packet loss. With the help of TCP Timestamps option, I have devised a lightweight passive bandwidth estimation algorithm, allowing us to observe that for 71.26\% of the large flows, the bandwidth utilization ratio is below 50\%. I find that TCP may not fully utilize the fast-varying available bandwidth when RTT is large in the LTE network. Upon further analysis, I identify 52.61\% of all downlink TCP flows have been throttled by TCP receive window and data transfer patterns for some popular applications are both energy and network unfriendly.

We also study the incorrect caching behavior of smartphone applications have incurred wasted network bandwidth usage~\cite{qian12_mobisys} and about 30\% of the total mobile traffic volume can be saved with correct caching and content compression.


\subsubsection*{\emph{5. Optimizing Energy Usage in Cellular Networks}:}

Today’s cellular systems operate under diverse resource constraints: limited frequency spectrum, network processing capability, and handset battery life. We observe that periodic transfers incur tremendous energy and signal overhead in today's smartphone traffic~\cite{qian12_www}. In addition, we consider a novel and important factor, handset screen status, \ie whether the screen is on or off, which was ignored by previous approaches for optimizing cellular resource utilization~\cite{imc.screen}. We find that off-screen traffic accounts for 58.5\% of the total radio energy consumption although their traffic volume contribution is much smaller. Such unexpected results are attributed to the unique cellular resource management policy that is not well understood by developers, leading to cellular unfriendly mobile apps. We then make a further step by proposing screen-aware optimization, by leveraging the key observation that screen-off traffic is much more delay-tolerant than its screen-on counterpart due to a lack of user interaction. Our proposal can better balance the key tradeoffs in cellular networks. 

In another work in submission, I develop a novel system, which dynamically and intelligently determines in real time when to deallocate radio resources for a UE based on predicting the network idle time. Using 7-month-long real-world cellular traces, I comprehensively evaluate it using various traffic features and machine learning algorithms. Properly configured, it correctly predicts 85.88\% of idle time instances, achieving radio energy savings of 59.07\%, at the cost of 91.01\% of additional signaling overhead, significantly outperforming existing proposals.  it incurs negligible energy overhead and has fast response times, demonstrating the practicality of deploying the system on contemporary smartphones.

\subsubsection*{Future Research Agenda}

As future directions, I will continue and extend my previous works in the following aspects:
\begin{itemize}
\item \emph{Cellular Network Performance Characterization.} I will continue the development \emph{MobiPerf} and make it into a general mobile measurement platform that can benefit the entire research community. In addition, I will make use of the data set collected by \emph{MobiPerf} to make more analysis on cellular network performance and this data set~\cite{mobiperf.data} is also available for other researchers.
\item \emph{Energy Optimization for Cellular Networks.} I will extend the inter-burst time prediction framework and implement it as a real functioning system on Android and use fast dormancy to save energy for end users. In addition, I will improve the prediction algorithm to consider TCP-level and application level context, which may further increase the prediction accuracy.
\item \emph{Effect of Network Protocol and Application Behavior on Performance for LTE Networks}. I will improve the design of the bandwidth estimation algorithm that we used to quantify the network utilization ratio of existing applications in the LTE networks. I will also explore the predictability of the available bandwidth in the LTE networks and study its implications and applications.
\end{itemize}




\section{Thesis Organization}

This dissertation is structured as follows. Chapter~\ref{chap:bkg} provides necessary backgrounds for 
+ the infrastructure of 3G and 4G cellular networks, 
+ their radio resource control (RRC) mechanisms, 
+ TCP specifications

Chapter~\ref{chap:net}: MobiPerf: 3G/4G network performance characterization

	+ Motivation

	+ Metrics

	+ Design and implementation of tools

	+ Results

	+ Implications (compare across network types, compare over time)
	
	
Chapter~\ref{chap:app}: smartphone application study

	+ Motivation

	+ Web based application running time breakdown.

	+ Video/audio streaming applications (sigcomm submission, mobisys10)

	
Chapter~\ref{chap:tcp}: LTE traffic pattern study Interplay of TCP, smartphone applications and cellular networks

	+ Motivation

	+ Sigcomm draft characterization part

	+ Sigcomm draft inefficient TCP part
	
	
Chapter~\ref{chap:power}: smartphone power model

	+ Motivation

	+ Measurement methodology: tools, experiments

	+ Power model

	+ How to use power model: trace-driven network/power simulation methodology (validation)
	
	+ Screen status's impact on traffic pattern

	+ Power footprint of apps (mobisys12)
	
		
Chapter~\ref{chap:optimize}: RadioProphet: optimize for better balance of performance and energy

	+ RadioProphet

	+ screen-aware optimization
	
Chapter~\ref{chap:related}: related work

